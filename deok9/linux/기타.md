---

mindmap-plugin: basic

---

# 기타

## autofs
- 환경
	- OS : CentOS 7.x
	Server : Node1 , Node2
- install
	- node1

		-
		  ```
		  yum install nfs-utils
		  ```

			- Sub title
	- node2

		-
		  ```
		  yum install nfs-utils autofs
		  ```

			- Sub title
- config
	- node1
		- /etc/export

			-
			  ```
			  /nfs_test/node1_dir 192.168.1.1(rw,sync,no_root_squash)
			  ```

				- nfs-server 재시작
	- node2
		- /etc/auto.master.d/test.autofs

			-
			  ```
			  
			  /- /etc/test.test
			  ```

				- autofs 재시작
					- df 를 본다. 없다. 마운트 된 경로로 들어가면 그때부터 마운트된다. 이상하다
					- umount 로 해제해도 마운트 된 디렉터리에 액션이 발생하면 자동으로 잡힌다. 해제도 안된다. 서비스꺼야함
					- 참고로 node2 서버에서 디렉터리를 설정하지않아도 자동으로 생성된다

## bash 취약점 확인

-
  ```
  
  env x='() { :;}; echo vulnerable' bash -c "echo this is a test"
  ```

	- vulnerable 구문이 보일시 업데이트 요망

## xrdp
- 환경
	- OS : CentOS 6.x
- install

	-
	  ```
	  yum groupinstall "X Window System" "Desktop"
	  sed –i "s/id\:3/id\:5/g" /etc/inittab
	  /sbin/chkconfig —list | grep "5:on" | awk '{print $1}' | while read service ;do /sbin/chkconfig —level 5 &service off ;done
	  /sbin/chkconfig —list | grep "3:on" | awk '{print $1}' | while read service ;do /sbin/chkconfig —level 5 &service on ;done
	  yum install tigervnc-server
	  yum install xrdp
	  ```

- config

	-
	  ```
	  cat << EOF >> /etc/sysconfig/vncservers
	  VNCSERVERS="2:root"
	  VNCSERVERARGS[2]="-geometry 800x600 -nolisten tcp -localhost"VNCSERVERS="2:root"
	  EOF
	  ```


	-
	  ```
	  vncpasswd
	  ```


		-
		  ```
		  service vncserver restart
		  service xrdp restart
		  ```

			- 방화벽 3389 포트 오픈
- 윈도우에서 원격데스크톱연결 프로그램을 사용해서 접속 테스트 진행
- 한글이 깨진다면

	-
	  ```
	  yum groupinstall korean-support -x xorg-x11-server-Xorg
	  fc-cache
	  ```


## 이더넷 이름 변경
- /etc/default/grub
	- GRUB_CMDLINE_LINUX 라인 맨뒤에 "net.ifnames=0 biosdevname=0" 추가

	-
	  ```
	  
	  grub2-mkconfig -o /boot/grub2/grub.cfg
	  ```

		- 네트워크 파일 수정 후 서버 재부팅